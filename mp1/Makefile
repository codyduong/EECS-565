.PHONY: all
all: clean build test

PROJECT_NAME := mp1
MAIN_DIR = .
TARGET_DIR = target/release

.PHONY: build
build:
	cargo build --release
	cp $(TARGET_DIR)/$(PROJECT_NAME) $(MAIN_DIR)/$(PROJECT_NAME)

.PHONY: test
test:
	./mp1 MSOKKJCOSXOEEKDTOSLGFWCMCHSUSGX 2 6
	./mp1 PSPDYLOAFSGFREQKKPOERNIYVSDZSUOVGXSRRIPWERDIPCFSDIQZIASEJVCGXAYBGYXFPSREKFMEXEBIYDGFKREOWGXEQSXSKXGYRRRVMEKFFIPIWJSKFDJMBGCC 3 7
	./mp1 MTZHZEOQKASVBDOWMWMKMNYIIHVWPEXJA 4 10
	./mp1 SQLIMXEEKSXMDOSBITOTYVECRDXSCRURZYPOHRG 5 11
	./mp1 LDWMEKPOPSWNOAVBIDHIPCEWAETYRVOAUPSINOVDIEDHCDSELHCCPVHRPOHZUSERSFS 6 9
	./mp1 VVVLZWWPBWHZDKBTXLDCGOTGTGRWAQWZSDHEMXLBELUMO 7 13

.PHONY: clean
clean:
	cargo clean
	rm -f mp1

# .PHONY: build
# build:
# 	cabal build exe:mp1
# 	cp `cabal exec -- which mp1` ./mp1

# .PHONY: clean
# clean:
# 	cabal clean
# 	rm -f mp1

